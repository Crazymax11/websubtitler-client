<!DOCTYPE html>
<!-- saved from url=(0044)http://arturadib.com/hello-backbonejs/1.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <title>hello-backbonejs</title>
  <link rel="stylesheet" href="./layout.css" type="text/css">
</head>

<body>
  <script src="https://code.jquery.com/jquery-2.1.3.min.js" type="text/javascript"></script>
  <script src="http://underscorejs.org/underscore-min.js" type="text/javascript"></script>
  <script src="http://backbonejs.ru/backbone-min.js" type="text/javascript"></script>
  <script src="./basic-auth.js" type="text/javascript"></script>

  <script src="./config.js"></script>
  <script src="./file-model.js"></script>
  <script src="./file-view.js"></script>
  <script src="./file-collection-view.js"></script>

  <script type="text/template" id="file-template">
    <div class="info-container"> 
      <input type="text" class="file-template-id-input" value="<%= id %>"/>
      <input type="text" class="file-template-name-input" value="<%= name %>"/>
      <input type="text" class="file-template-organization_id-input" value="<%= organization_id %>"/>
      <input type="text" class="file-template-description-input" value="<%= description %>"/>
    </div>
    <div class="controls-container"> 
      <button class="file-template-edit-button"> edit </button>
      <button class="file-template-delete-button"> delete </button>
      <button class="file-template-save-button"> save </button>
    </div>
  </script>

  <div id="files-container"> 
  <button id="create-file-button" class="create-file-button round-button-circle"> + </button>
  </div>



  <script>
  function ready() {
    console.log("DOM is ready");
    fc = new fileCollectionView({collection: new fileCollection(), model: fileModel, el : $("#files-container")});
    fc.collection.credentials = credentials;
    fc.collection.fetch();
    var createBtn = $("#create-file-button");
    createBtn.click( function(){
      fc.collection.create({credentials: credentials});
    })

  }

  document.addEventListener("DOMContentLoaded", ready);
</script>

</body></html>